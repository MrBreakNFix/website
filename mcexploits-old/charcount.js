document.addEventListener("DOMContentLoaded", function() {
    // Select all textareas with IDs containing "description"
    var textareas = document.querySelectorAll("textarea[id*='description']");

    // Loop through each textarea
    textareas.forEach(function(textarea) {
        // Add event listener for input event
        textarea.addEventListener("input", function() {
            // Get the maximum length for the textarea
            var maxLength = parseInt(textarea.getAttribute("maxlength"));

            // Get the current length of the textarea value
            var currentLength = textarea.value.length;

            // Get the charcount element associated with the textarea
            var charCountElement = textarea.nextElementSibling;

            // Check if the charCountElement exists and it has a child with 'small' tag
            if (charCountElement && charCountElement.querySelector("small")) {
                charCountElement = charCountElement.querySelector("small");
                // Update the charcount element with current length and maximum length
                charCountElement.textContent = currentLength + "/" + maxLength;
            } else {
                console.log("Charcount element not found for textarea:", textarea.id);
            }
        });

        // Trigger input event to initialize character count
        textarea.dispatchEvent(new Event("input"));
    });
});