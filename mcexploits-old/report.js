document.addEventListener("DOMContentLoaded", function () {
    const typeRadios = document.querySelectorAll('.type input[type="radio"]');
    const exploitForms = document.querySelectorAll('.exploit');
    const dupeTypeRadios = document.querySelectorAll('.dupe-type input[type="radio"]');
    const crashTypeRadios = document.querySelectorAll('.crash-type input[type="radio"]');

    // Function to hide all forms
    function hideAllForms() {
        exploitForms.forEach(form => {
            form.style.display = 'none';
        });
    }

    // Event listener for radio button change in the main exploit type
    typeRadios.forEach(radio => {
        radio.addEventListener('change', function () {
            const selectedType = this.value;
            hideAllForms();

            const selectedForm = document.getElementById(`${selectedType}-form`);
            if (selectedForm) {
                selectedForm.style.display = 'block';
            }

        });
    });

    // ========== START DUPE ==========
    function hideAllDupeExtendedForms() {
        const dupeExtendedForms = document.querySelectorAll('.dupeextended');
        dupeExtendedForms.forEach(form => {
            form.style.display = 'none';
        });
    }

    // Event listener for radio button change in the dupe subcategory
    dupeTypeRadios.forEach(radio => {
        radio.addEventListener('change', function () {
            const selectedDupeType = this.value;
            hideAllDupeExtendedForms();

            const selectedDupeExtendedForm = document.getElementById(`dupe-${selectedDupeType}-extended`);
            if (selectedDupeExtendedForm) {
                selectedDupeExtendedForm.style.display = 'block';
            }

        });
    });

    dupeTypeRadios.forEach(radio => {
        radio.checked = false;
    });
    // ========== END DUPE ==========

    // ========== START CRASH ==========
    function hideAllCrashExtendedForms() {
        const crashExtendedForms = document.querySelectorAll('.crashextended');
        crashExtendedForms.forEach(form => {
            form.style.display = 'none';
        });
    }

    // Event listener for radio button change in the crash subcategory
    crashTypeRadios.forEach(radio => {
        radio.addEventListener('change', function () {
            const selectedCrashType = this.value;
            hideAllCrashExtendedForms();

            const selectedCrashExtendedForm = document.getElementById(`crash-${selectedCrashType}-extended`);
            if (selectedCrashExtendedForm) {
                selectedCrashExtendedForm.style.display = 'block';
            }

        });
    });

    crashTypeRadios.forEach(radio => {
        radio.checked = false;
    });
    // ========== END CRASH ==========



    // Initialize all radios unchecked
    typeRadios.forEach(radio => {
        radio.checked = false;
    });
});
